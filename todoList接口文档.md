# 1.TodoList__登录注册 接口文档

## 1.1 API  接口说明

- 接口基准地址：`http://127.0.0.1:3007/api/`
- 服务端已开启 CORS 跨域支持
- API 认证统一使用 Token 认证
- 需要授权的 API ，必须在请求头中使用 `Authorization` 字段提供 `token` 令牌
- 暂未使用 HTTP Status Code 标识状态
- 数据返回格式统一使用 JSON

### 1.1.1 支持的请求方式

- GET（SELECT）：从服务器拉取资源（一项或多项）
- POST（CREATE）：在服务器新建一个资源
- PUT（UPDATE）：在服务器更新资源（客户端需要提供更新后的完整数据）
- DELETE（DELETE）：从服务器删除资源

### 1.1.2 返回状态说明

| 状态码 | 含义               | 说明     |
| ------ | ------------------ | -------- |
| 0      | OK                 | 请求成功 |
| 1      | Error / 资源不存在 | 请求失败 |

------

## 1.2 注册

### 1.2.1. 注册验证接口

- 请求路径：reguser
- 请求方式：post
- 请求参数

| 参数名   | 参数说明 | 备注     |
| -------- | -------- | -------- |
| username | 用户名   | 不能为空 |
| password | 密码     | 不能为空 |
| nickname | 昵称     | 不能为空 |

------

## 1.3 登录

### 1.3.1 登录验证接口

- 请求路径：login
- 请求方式：post
- 请求参数

| 参数名   | 参数说明 | 备注     |
| -------- | -------- | -------- |
| username | 用户名   | 不能为空 |
| password | 密码     | 不能为空 |

- 响应参数

| 参数名   | 参数说明 | 备注        |
| -------- | -------- | ----------- |
| id       | 用户ID   |             |
| username | 用户名   |             |
| nickname | 昵称     |             |
| token    | 令牌     | 基于jwt令牌 |

- 响应数据

```json
{
    "data": {
        "id": 17,
        "username": "admin3",
        "nickname": null,
        "token": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTcsInVzZXJuYW1lIjoiYWRtaW4zIiwicGFzc3dvcmQiOiIiLCJuaWNrbmFtZSI6bnVsbCwiaWF0IjoxNjYwMDY5MzUyLCJleHAiOjE2NjAxMDUzNTJ9.tSs3yBAId2kq2cyBxHvs5srUgK8USeWpNMGZuyXJsHk"
    },
    "meta": {
        "msg": "登录成功",
        "status": 0
    }
}
```

------

## 1.4 待办事项

### 1.4.1 获取待办事项列表

- 请求路径：todo
- 请求参数：GET
- 请求参数

| 参数名   | 参数说明 | 备注     |
| -------- | -------- | -------- |
| id       | 用户ID   | 不能为空 |
| username | 用户名   | 不能为空 |

- 响应参数

| 参数名   | 参数说明 | 备注         |
| -------- | -------- | ------------ |
| id       | 唯一标识 |              |
| username | 用户名   |              |
| title    | 待办事项 |              |
| done     | 完成状态 | 返回值：0，1 |

- 响应数据

```json
{
    "data": {
        "0": {
            "id": 1,
            "username": "admin3",
            "title": "吃饭",
            "done": 0,
        },
        "1": {
            "id": 3,
            "username": "admin3",
            "title": "打游戏",
            "done": 0,
        }
    },
    "meta": {
        "msg": "请求成功",
        "status": 0
    }
}
```

------

### 1.4.2 新增待办事项

- 请求路径：todo
- 请求参数：POST
- 请求参数

| 参数名   | 参数说明 | 备注     |
| -------- | -------- | -------- |
| id       | 用户ID   | 不能为空 |
| username | 用户名   | 不能为空 |
| todo     | 待办事项 | 不能为空 |

- 响应参数

| 参数名   | 参数说明 | 备注         |
| -------- | -------- | ------------ |
| id       | 唯一标识 |              |
| username | 用户名   |              |
| title    | 待办事项 |              |
| done     | 完成状态 | 返回值：0，1 |

- 响应数据

```json
{
    "id": 29,
    "username": "admin3",
    "title": "洗脸",
    "done": 0
}
```

------

### 1.4.3 更新待办事项

- 请求路径：todo/:id
- 请求参数：PUT
- 请求参数

| 参数名 | 参数说明     | 备注                  |
| ------ | ------------ | --------------------- |
| id     | 唯一标识     | 不能为空`携带在url中` |
| title  | 新的待办事项 | 不能为空              |

- 响应参数

| 参数名   | 参数说明 | 备注         |
| -------- | -------- | ------------ |
| id       | 唯一标识 |              |
| username | 用户名   |              |
| todo     | 待办事项 |              |
| title    | 完成状态 | 返回值：0，1 |

- 响应数据

```json
{
    "data": {
        "id": 4,
        "username": "admin3",
        "title": "刷牙",
        "done": 0
    },
    "meta": {
        "msg": "更新成功",
        "status": 0
    }
}
```

------

### 1.4.4 完成待办事项

- 请求路径：todo/list/:id
- 请求参数：PUT
- 请求参数

| 参数名 | 参数说明 | 备注                  |
| ------ | -------- | --------------------- |
| id     | 唯一标识 | 不能为空`携带在url中` |

- 响应参数

| 参数名   | 参数说明 | 备注         |
| -------- | -------- | ------------ |
| id       | 唯一标识 |              |
| username | 用户名   |              |
| title    | 待办事项 |              |
| done     | 完成状态 | 返回值：0，1 |

- 响应数据

```json
{
    "data": {
        "id": 11,
        "username": "admin3",
        "title": "洗脸",
        "done": 0
    },
    "meta": {
        "msg": "状态改变成功",
        "status": 0
    }
}
```

------

### 1.4.5 删除待办事项

- 请求路径：todo:id
- 请求参数：DELETE
- 请求参数

| 参数名 | 参数说明 | 备注                  |
| ------ | -------- | --------------------- |
| id     | 唯一标识 | 不能为空`携带在url中` |

- 响应数据

```json
{
    "meta": {
        "msg": "删除成功",
        "status": 0
    }
}
```

------

### 1.4.6 删除所选待办事项

- 请求路径：todo/select/:int
- 请求参数：DELETE
- 请求参数

| 参数名 | 参数说明 | 备注               |
| ------ | -------- | ------------------ |
| int    | 整数1    | 0为未勾选，1为勾选 |

- 响应数据

```json
{
    "meta": {
        "msg": "删除成功",
        "status": 0
    }
}
```

------

### 